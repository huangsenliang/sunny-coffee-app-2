(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loginUser"],{"8c78":function(t,e,a){"use strict";var n=a("a630"),s=a.n(n);s.a},a630:function(t,e,a){},cf32:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-user"},[a("nav-bar",{attrs:{name:"登录"}}),a("div",{staticClass:"input"},[a("table"),a("div",{staticClass:"input-box"},[a("van-field",{ref:"uname",attrs:{"right-icon":"user-o",placeholder:"请输入用户名"},model:{value:t.uname,callback:function(e){t.uname=e},expression:"uname"}}),a("van-cell-group",[a("van-field",{attrs:{"right-icon":"star-o",placeholder:"请输入密码"},on:{blur:t.testPwd},model:{value:t.upwd,callback:function(e){t.upwd=e},expression:"upwd"}})],1),a("van-button",{staticClass:"btn",attrs:{round:"",type:"primary",size:"large"},on:{click:t.regLogin}},[t._v("登录")]),a("van-button",{attrs:{round:"",type:"danger",size:"large"},on:{click:t.exitLogin}},[t._v("退出登录")])],1)])],1)},s=[],i={data:function(){return{uname:"",upwd:""}},methods:{exitLogin:function(){var t=this;this.axios.get("/user/exit").then((function(e){sessionStorage.removeItem("uid"),200==e.data.code&&(t.$store.commit("exit"),t.$router.push({path:"/personal"})),t.$toast(e.data.msg)}))},testPwd:function(t){/^[a-zA-Z0-9]{6,8}$/.test(this.upwd)||this.$toast("密码为6~8位数字、字母")},regLogin:function(){var t=this,e={uname:this.uname,upwd:this.upwd};this.axios.post("/user/login",e).then((function(e){if(200==e.data.code){t.$store.commit("setLogin"),t.$store.commit("setUname",t.uname),t.$router.push({path:"/index"});var a=e.data.uid;sessionStorage.setItem("uid",a)}t.$toast(e.data.msg)}))}},mounted:function(){this.$refs.uname.focus()}},o=i,u=(a("8c78"),a("2877")),r=Object(u["a"])(o,n,s,!1,null,"6f45a115",null);e["default"]=r.exports}}]);
//# sourceMappingURL=loginUser.084aebb8.js.map