(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"159b":function(t,a,n){var s=n("da84"),o=n("fdbc"),i=n("17c2"),e=n("9112");for(var c in o){var r=s[c],l=r&&r.prototype;if(l&&l.forEach!==i)try{e(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,a,n){"use strict";var s=n("b727").forEach,o=n("a640"),i=n("ae40"),e=o("forEach"),c=i("forEach");t.exports=e&&c?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},"1aae":function(t,a,n){"use strict";var s=n("ea92"),o=n.n(s);o.a},4160:function(t,a,n){"use strict";var s=n("23e7"),o=n("17c2");s({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},8418:function(t,a,n){"use strict";var s=n("c04e"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,a,n){var e=s(a);e in t?o.f(t,e,i(0,n)):t[e]=n}},"99af":function(t,a,n){"use strict";var s=n("23e7"),o=n("d039"),i=n("e8b5"),e=n("861d"),c=n("7b0b"),r=n("50c4"),l=n("8418"),u=n("65f0"),p=n("1dde"),f=n("b622"),v=n("2d00"),d=f("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",_=v>=51||!o((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=p("concat"),C=function(t){if(!e(t))return!1;var a=t[d];return void 0!==a?!!a:i(t)},b=!_||!g;s({target:"Array",proto:!0,forced:b},{concat:function(t){var a,n,s,o,i,e=c(this),p=u(e,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(i=-1===a?e:arguments[a],C(i)){if(o=r(i.length),f+o>h)throw TypeError(m);for(n=0;n<o;n++,f++)n in i&&l(p,f,i[n])}else{if(f>=h)throw TypeError(m);l(p,f++,i)}return p.length=f,p}})},c77f:function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"order"},[n("nav-bar",{attrs:{name:"确认订单"}}),n("div",{staticClass:"container"},[n("p",[t._v(" 立即自取 约 "),n("span",{staticClass:"color-218"},[t._v(t._s(t.getTime()))]),t._v("可取 ")]),n("div",{staticClass:"panel map"},[t._m(0),n("van-switch",{attrs:{"active-color":"#fff","inactive-color":"blue"}})],1),n("div",{staticClass:"lis panel"},[t._l(t.data,(function(a,s){return n("div",{key:s,staticClass:"item"},[n("div",{staticClass:"item-l"},[n("div",{staticClass:"item-l-l"},[n("img",{attrs:{src:"http://127.0.0.1:5050/"+a.data.imgUrl}}),n("div",[n("h5",[t._v(t._s(a.data.lname))]),n("p",{staticClass:"text-hidden"},[t._v(t._s(t._f("typeStr")(a.str_types)))])])]),n("span",{staticClass:"color-85"},[t._v("x"+t._s(a.count))])]),n("span",[t._v(t._s(t._f("currency")(a.total)))])])})),n("div",{staticClass:"total"},[t._v(" 合计： "),n("span",[t._v(t._s(t._f("currency")(t.total)))])])],2),n("div",{staticClass:"coupons panel"},[t._m(1),n("van-coupon-cell",{attrs:{coupons:t.coupons,"chosen-coupon":t.chosenCoupon},on:{click:function(a){t.showList=!0}}}),n("van-popup",{staticStyle:{height:"90%","padding-top":"4px"},attrs:{round:"",position:"bottom"},model:{value:t.showList,callback:function(a){t.showList=a},expression:"showList"}},[n("van-coupon-list",{attrs:{coupons:t.coupons,"chosen-coupon":t.chosenCoupon,"disabled-coupons":t.disabledCoupons},on:{change:t.onChange}})],1)],1),n("div",{staticClass:"pay panel",on:{click:function(a){t.show=!0}}},[n("span",[t._v("支付方式")]),n("p",{staticClass:"pay-r"},[n("span",{class:[t.payLis[t.n].tb,"iconfont"]},[t._v(" "+t._s(t.payLis[t.n].name))]),n("span",{staticClass:"font-35 icon-you iconfont color-85"})])]),n("div",{staticClass:"way panel"},[n("ul",{staticClass:"way-t flex-between"},[n("li",[t._v("取餐方式")]),n("li",[n("span",{class:{"icon-xuanzhong":!t.isWay,"icon-xuanzhong1":t.isWay,iconfont:!0},on:{click:t.togIsWay}}),t._v(" 店内用餐 ")]),n("li",[n("span",{class:{"icon-xuanzhong":t.isWay,"icon-xuanzhong1":!t.isWay,iconfont:!0},on:{click:t.togIsWay}}),t._v(" 自提带走 ")])]),t._m(2)]),n("div",{staticClass:"tip"},[n("div",{staticClass:"tip-t"},[n("span",{class:{"icon-xuanzhong":!t.isRead,"icon-xuanzhong1":t.isRead,iconfont:!0},staticStyle:{width:"18px",height:"18px"},on:{click:t.togIsRead}}),t._m(3)]),n("p",[t._v("温馨提示：仅支持开具电子发票，订单完成后可前往发票管理中开具")])])]),n("van-submit-bar",{attrs:{price:100*t.couponTotal,"button-text":"去支付"},on:{submit:t.onSubmit}}),n("van-overlay",{attrs:{show:t.show},on:{click:function(a){t.show=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[n("p",[t._v("支付中心")]),n("ul",{staticClass:"wrapper-b"},t._l(t.payLis,(function(a,s){return n("li",{key:s,staticClass:"wrapper-b-item flex-between-center",on:{click:function(a){return t.togN(s)}}},[n("div",{staticClass:"wrapper-b-item-l flex-between-center"},[n("span",{class:["iconfont",a.tb]}),n("p",[t._v(" "+t._s(a.name)+" "),0==s?n("span",{staticClass:"color-85"},[t._v("（剩余￥0）")]):t._e(),1==s?n("span",{class:[a.tb2,"iconfont"]}):t._e()])]),n("span",{class:{"icon-xuanzhong1":s==t.n,iconfont:!0}})])})),0)])])],1)},o=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"map-content"},[n("span",{staticClass:"icon-location iconfont"}),n("div",[n("p",[t._v("天宫院凯德MALL店(No.1731)")]),n("p",{staticClass:"color-85"},[t._v("大兴区新源大街凯德MALL商店")])])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"coupons-t"},[n("div",{staticClass:"coupons-t-t"},[n("p",[t._v(" 用咖啡钱包 "),n("span",{staticClass:"color-218"},[t._v("充1赠1")]),t._v("，立享优惠 ")]),n("span",{staticClass:"font-35 iconfont icon-you color-218"})])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"flex-between yaoqiu"},[n("p",[t._v("备注特殊要求")]),n("span",{staticClass:"font-35 icon-you iconfont color-85"})])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("p",[t._v(" 我已阅读并同意 "),n("a",[t._v("《支付协议》")])])}],i=(n("99af"),n("4160"),n("b0c0"),n("159b"),[{available:1,condition:"无使用门槛\n立减1.5元",value:150,name:"立减1.5元",startAt:1489104010,endAt:1514592400,valueDesc:"1.5",unitDesc:"元"},{available:2,condition:"无使用门槛\n立减2元",value:200,name:"立减2元",startAt:1489104010,endAt:1514592400,valueDesc:"2.0",unitDesc:"元"},{available:3,condition:"无使用门槛\n立减1元",value:100,name:"立减1元",startAt:1489104010,endAt:1514592400,valueDesc:"1.0",unitDesc:"元"}]),e=[{available:1,condition:"无使用门槛\n8折优惠",value:800,name:"8折优惠",startAt:1489104e3,endAt:1514592e3,valueDesc:"8",unitDesc:"折"},{available:2,condition:"无使用门槛\n立减1.5元",value:150,name:"立减1.5元",startAt:1489104010,endAt:1514592400,valueDesc:"1.5",unitDesc:"元"}],c={data:function(){return{showList:!1,chosenCoupon:-1,coupons:i,disabledCoupons:e,total:0,couponTotal:0,data:"",oidsStr:"",isRead:!1,isWay:!0,show:!1,n:1,payLis:[{tb:"icon-qianbao",name:"钱包账号余额"},{tb:"icon-weixin",name:"微信支付",tb2:"icon-tubiao303"},{tb:"icon-umidd17",name:"支付宝"},{tb:"icon-xinyongqia",name:"国际信用卡支付"}]}},methods:{onChange:function(t){this.showList=!1,this.chosenCoupon=t,this.getCouponTotal(t)},getTotal:function(){var t=this;this.total=0,this.data.forEach((function(a){t.total+=a.total*a.count})),this.couponTotal=this.total},getCouponTotal:function(t){var a=.01*i[t].value;this.couponTotal=this.total-a},getTime:function(){var t=new Date,a=t.getMinutes()+10,n=t.getHours(),s=t.getSeconds();a>60&&(n++,a-=60);var o="".concat(n,":").concat(a,":").concat(s);return o},onSubmit:function(){if(this.isRead){sessionStorage.getItem("uid");var t=this.payLis[this.n].name+"--支付成功！！";this.$toast(t),this.data=0,this.total=0,this.couponTotal=0;var a=sessionStorage.getItem("cart"),n=decodeURIComponent(a),s=JSON.parse(n),o=[];s.forEach((function(t){t.check||o.push(t)})),sessionStorage.setItem("cart",JSON.stringify(o))}else this.$toast("请您先了解支付协议！！")},togN:function(t){this.n=t},togIsRead:function(){this.isRead=!this.isRead},togIsWay:function(){this.isWay=!this.isWay}},created:function(){var t=sessionStorage.getItem("cart"),a=decodeURIComponent(t),n=JSON.parse(a),s=[];n.forEach((function(t){t.check&&s.push(t)})),this.data=s,this.getTotal()}},r=c,l=(n("1aae"),n("2877")),u=Object(l["a"])(r,s,o,!1,null,"1bf1e02e",null);a["default"]=u.exports},ea92:function(t,a,n){},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=order.e46e225f.js.map